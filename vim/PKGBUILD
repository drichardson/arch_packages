# Maintainer: Thomas Dziedzic <gostrc@gmail.com>
# Contributor: Jan "heftig" Steffens <jan.steffens@gmail.com>
# Contributor: tobias [ tobias at archlinux org ]
# Contributor: Daniel J Griffiths <ghost1227@archlinux.us>

pkgbase=vim-doug
pkgname=('vim-doug')
_topver=7.4
_patchlevel=335
__hgrev=4aa63564dd3f
_versiondir="vim${_topver//./}"
pkgver=${_topver}.${_patchlevel}
pkgrel=1
arch=('i686' 'x86_64')
license=('custom:vim')
url="http://www.vim.org"
makedepends=('gpm' 'python')
source=("ftp://ftp.archlinux.org/other/vim/vim-${pkgver}.tar.xz"
        "ftp://ftp.archlinux.org/other/vim/vim-${pkgver}.tar.xz.sig"
        )
md5sums=('e6b40c71599d69acc8f2bbf768242896'
         'SKIP'
         )
pkgdesc='Dougs Vi Improved, a highly configurable, improved version of the vi text editor'
depends=('gpm')
conflicts=('vim' 'gvim')


build() {
  cd vim-${pkgver} 

  (cd src && autoconf)

  ./configure \
    --prefix=/usr \
    --localstatedir=/var/lib/vim \
    --with-features=huge \
    --with-compiledby='Doug Arch Linux' \
    --enable-gpm \
    --enable-acl \
    --with-x=no \
    --disable-gui \
    --enable-multibyte \
    --enable-cscope \
    --disable-netbeans \
    --disable-perlinterp \
    --disable-pythoninterp \
    --enable-python3interp \
    --disable-rubyinterp \
    --disable-luainterp

  make -j4 
}

package() {
  cd vim-${pkgver} 
  install -Dm755 src/vim $pkgdir/usr/bin/vim
}


# vim:set sw=2 sts=2 et:
